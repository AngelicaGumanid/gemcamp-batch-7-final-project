<%#= stylesheet_link_tag "shop", "data-turbo-track": "reload" %>

<section class="d-flex align-items-center shop-section">
  <div class="container h-100 d-flex flex-column align-items-center justify-content-center">

    <div class="client-homepage">
      <%= render partial: 'partials/banner_and_news_ticker' %>
    </div>

    <!-- Categories Section (If applicable for Shop) -->
    <!--    <div class="categories d-flex flex-wrap justify-content-center gap-3">-->
    <%#= link_to 'All', clients_shops_path, class: "btn btn-outline-secondary btn-sm" %>
    <%# @categories.each do |category| %>
    <%#= link_to category.name, clients_shops_path(category: category.id), class: "btn btn-outline-secondary btn-sm" %>
    <%# end %>
    <!--    </div>-->

    <div class="col-12">
      <div class="row row-cols-2 row-cols-md-3 g-4">
        <% @offers.each do |offer| %>
          <div class="col">

            <%= link_to clients_shop_path(offer), class: "card shadow-sm h-100 text-center offer-card" do %>
              <div class="card-body">
                <% if offer.image.present? && offer.image.url.present? %>
                  <%= image_tag offer.image.url, class: "card-img-top", alt: offer.name, style: "object-fit: cover; height: 150px;" %>
                <% else %>
                  <%= image_tag '1.png', class: "card-img-top", alt: 'Placeholder', style: "object-fit: cover; height: 150px;" %>
                <% end %>
                <h5 class="card-title"><%= offer.name %></h5>
                <p class="card-text">Coins: <%= offer.coin %></p>
                <p class="card-text">Price: <%= number_to_currency(offer.amount) %></p>
              </div>
            <% end %>

          </div>
        <% end %>
      </div>
    </div>

  </div>
</section>

<style>
    .shop-section {
        .banner-img {
            width: 100%;
            height: auto;
        }

        .categories {
            gap: 10px;
            padding: 10px 0;
        }

        .offer-card img {
            width: 100%;
            height: 150px;
            object-fit: cover;
        }

        .offer-card {
            transition: transform 0.3s ease;
        }

        .offer-card:hover {
            transform: scale(1.05);
        }

        .click-to-view-details {
            font-size: 0.9em;
            color: #007bff;
        }
    }
</style>
